(:use 'movielexsrv.tools.sitegen :reload-all)
(:use 'movielexsrv.tools.utils :reload-all)
(:use movielexsrv.tools.sitegen :reload-all)
(:use movielexsrv.tools.utils :reload-all)
(clojurewerkz.welle.kv/fetch (get-state :conn) users-bucket "10") 
(clojurewerkz.welle.kv/fetch (get-state :conn) users-bucket "11") 
(clojurewerkz.welle.kv/modify (get-state :conn) users-bucket "11" #(%)) 
(clojurewerkz.welle.kv/modify (get-state :conn) users-bucket "11" #((prb %) %)) 
(clojurewerkz.welle.kv/modify (get-state :conn) users-bucket "11" #((prn %) %)) 
(clojurewerkz.welle.kv/modify (get-state :conn) users-bucket "11") 
(file-exists? cinema-html)
(first (query-users))
(gen-product-list-csv ".")
(gen-product-records mvs)
(gen-product-records)
(get (fetch-user  "11") [:user-data :appver])
(get (fetch-user "11") [:user-data])
(get u [:user-data :appver])
(get-in  u [:user-data :appver])
(get-in (fetch-user "11") [:user-data :account] )
(get-in [:user-data :account] (fetch-user "11"))
(get-in u [:user-data :appver])
(get-stats)
(gethostname)
(import 'java.lang.Runtime)
(init-local-repl)
(init-prodlistgen)
(map movie->csv mvs)
(movie->csv m)
(movielex.tools.utils/ver->int (get u [:user-data :appver]))
(movielexsrv.tools.utils/gethostname)
(movielexsrv.tools.utils/ver->int (get u [:user-data :appver]))
(mvs "kp461206")
(prn (clojure.string/escape "I want 1 < 2 as HTML, & other good things."  {\< "<", \> ">", \& "&"}))
(prn @config)
(prn @db/movies)
(prn @movielexsrv.models.db/movies)
(prn @movies)
(prn @movilexsrv.models.db/movies)
(prn config)
(prn db/movies)
(prn movilexsrv.models.db/movies)
(put-user "10" "{\"account\": \"xyz\"}")
(put-user "10" "{\"device_id\":\"11\"}" )
(put-user "10" "{\"device_id\":\"12\"}" )
(put-user "10" {:account "xyz", :device_id "11", :os "android", :osver "4.2.2", :appver "1.0.0", :amatchver "1.35"})
(put-user "10")
(put-user "11" "{\"\": \"11\"}")
(put-user "11" "{\"account\": \"xyz\", \"device_id\" : \"1\"}" )
(put-user "11" "{\"account\": \"xyz\", \"device_id\":\"1\"}")
(put-user "11" "{\"account\": \"xyz\"}")
(put-user "11" "{\"device_id\":\"11\"}" )
(put-user "11" '{"account":"xyz","device_id":"11","os":"android","osver":"4.2.2","appver":"1.0.0","amatchver":"1.35"}' )
(put-user "15" "{\"device_id\":\"11\"}" )
(query-users)
(quit)
(str (. (Runtime/getRuntime) exec "hostname"))
(use 'movielexsrv.models.db :reload-all)
(use 'movielexsrv.tools.prodlistgen :reload-all)
(use 'movielexsrv.tools.utils :reload-all)
(utils/ver->int (get u [:user-data :appver]))
(validate-user "11")
(vals mvs)
(use 'movielexsrv.tools.sitegen :reload-all)
(load-movies-and-generate-cinema "ru" ".")
(quit)
