(:use 'movielexsrv.tools.sitegen :reload-all)
(:use movielexsrv.tools.sitegen :reload-all)
(file-exists? cinema-html)
(get-stats)
(quit)
(:use movielexsrv.tools.utils :reload-all)
(:use 'movielexsrv.tools.utils :reload-all)
(use 'movielexsrv.tools.utils :reload-all)
(gethostname)
(quit)
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(query-users)
(delete-user "11")
(query-users)
(first (query-users))
(fetch-user (first (query-users)))
(quit)
(init-local-repl)
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(movielexsrv.tools.utils/gethostname)
(import 'java.lang.Runtime)
(. (Runtime/getRuntime) exec "hostname")
(str (. (Runtime/getRuntime) exec "hostname"))
(clojure.java.shell/sh "ls -l")
(clojure.java.shell/sh "hostname")
(:out (clojure.java.shell/sh "hostname"))
(use 'movielexsrv.models.db :reload-all)
(movielexsrv.tools.utils/gethostname)
(quit)
(movielexsrv.tools.utils/gethostname)
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(quit)
(init-local-repl)
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(prn config)
(prn @config)
(init-local-repl)
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(prn @config)
clojurewerkz.welle.kv/modify
(clojurewerkz.welle.kv/fetch (get-state :conn) users-bucket "11") 
(query-users)
(clojurewerkz.welle.kv/fetch (get-state :conn) users-bucket "10") 
(clojurewerkz.welle.kv/modify (get-state :conn) users-bucket "11" #((prb %) %)) 
(clojurewerkz.welle.kv/modify (get-state :conn) users-bucket "11" #((prn %) %)) 
(clojurewerkz.welle.kv/modify (get-state :conn) users-bucket "11") 
(clojurewerkz.welle.kv/modify (get-state :conn) users-bucket "11" #(%)) 
(fetch-user "11")
(fetch-user "10")
(use 'movielexsrv.models.db :reload-all)
(put-user "10")
(put-user "10" {:account "xyz", :device_id "11", :os "android", :osver "4.2.2", :appver "1.0.0", :amatchver "1.35"})
(put-user "10" "{\"account\": \"xyz\"}")
(put-user "11" "{\"account\": \"xyz\"}")
(put-user "11" "{\"\": \"11\"}")
(put-user "11" "{\"account\": \"xyz\", \"device_id\":\"1\"}")
(put-user "11" "{\"account\": \"xyz\", \"device_id\" : \"1\"}" )
(put-user "11" '{"account":"xyz","device_id":"11","os":"android","osver":"4.2.2","appver":"1.0.0","amatchver":"1.35"}' )
(put-user "11" "{\"device_id\":\"11\"}" )
(init-local-repl)
(put-user "11" "{\"device_id\":\"11\"}" )
(fetch-user "11")
(use 'movielexsrv.models.db :reload-all)
(query-users)
(init-local-repl)
(query-users)
(put-user "11" "{\"device_id\":\"11\"}" )
(put-user "10" "{\"device_id\":\"11\"}" )
(put-user "15" "{\"device_id\":\"11\"}" )
(query-users)
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(query-users)
(put-user "15" "{\"device_id\":\"11\"}" )
(query-users)
(put-user "15" "{\"device_id\":\"11\"}" )
(put-user "10" "{\"device_id\":\"11\"}" )
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(query-users)
(put-user "10" "{\"device_id\":\"11\"}" )
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(delete-user "10")
(delete-user "11")
(delete-user "12")
(delete-user "15")
(delete-user "11")
(query-users)
(put-user "10" "{\"device_id\":\"11\"}" )
(fetch-user "10")
(put-user "10" "{\"device_id\":\"12\"}" )
(fetch-user "10")
(quit)
(use 'movielexsrv.tools.utils :reload-all)
(gethostname)
(quit)
(gethostname)
(use 'movielexsrv.tools.utils :reload-all)
(gethostname)
(quit)
(use 'movielexsrv.models.db :reload-all)
(delete-user "d22f-cd6f-a32e-6eb2")
(query-users)
(init-local-repl)
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(delete-user "d22f-cd6f-a32e-6eb2")
(quit)
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(query-users)
(fetch "10")
(fetch-user "10")
(fetch-user "11")
(:account (fetch-user "11"))
(:user-data (fetch-user "11"))
(get-in [:user-data :account] (fetch-user "11"))
(get-in (fetch-user "11") [:user-data :account] )
(quit)
(init-local-repl)
(use 'movielexsrv.tools.prodlistgen :reload-all)
(init-prodlistgen)
(prn @movies)
(prn @db/movies)
(prn db/movies)
(prn movilexsrv.models.db/movies)
(prn @movilexsrv.models.db/movies)
(prn @movielexsrv.models.db/movies)
(init-prodlistgen)
m
(use 'movielexsrv.tools.prodlistgen :reload-all)
m
(use 'movielexsrv.tools.prodlistgen :reload-all)
m
(movie->csv m)
m
(movie->csv m)
(:id m)
(:id (second m))
(:id (first m))
(use 'movielexsrv.tools.prodlistgen :reload-all)
mvs
(keys mvs)
(use 'movielexsrv.tools.prodlistgen :reload-all)
(init-prodlistgen)
(keys mvs)
(mvs "kp461206")
(use 'movielexsrv.tools.prodlistgen :reload-all)
(init-prodlistgen)
m
(:id m)
(movie->csv m)
(use 'movielexsrv.tools.prodlistgen :reload-all)
(init-prodlistgen)
(movie->csv m)
(use 'movielexsrv.tools.prodlistgen :reload-all)
m
(use 'movielexsrv.tools.prodlistgen :reload-all)
(init-prodlistgen)
(movie->csv m)
(clojure.string/escape "aaa")
(clojure.string/escape "aaa" )
(clojure.string/escape "I want 1 < 2 as HTML, & other good things."
4
               {\< "<", \> ">", \ & "&"})
(clojure.string/escape "I want 1 < 2 as HTML, & other good things."  {\< "<", \> ">", \ & "&"})
(clojure.string/escape "I want 1 < 2 as HTML, & other good things."  {\< "<", \> ">", \& "&"})
(prn (clojure.string/escape "I want 1 < 2 as HTML, & other good things."  {\< "<", \> ">", \& "&"}))
(use 'movielexsrv.tools.prodlistgen :reload-all)
(movie->csv m)
(map movie->csv mvs)
(vals mvs)
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-records mvs)
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-records)
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-records)
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-records)
(.startsWith "kp" "kp")
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-records)
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-records)
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-list-csv ".")
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-list-csv ".")
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-list-csv ".")
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-list-csv ".")
(use 'movielexsrv.tools.prodlistgen :reload-all)
(gen-product-list-csv ".")
(quit)
(use 'movielexsrv.models.db :reload-all)
(query-users)
(init-local-repl)
(query-users)
(validate-user "11")
(fetch-user "11")
(get (fetch-user  "11") [:user-data :appver])
(get (fetch-user "11") [:user-data])
(def u (fetch-user "11"))
u
(get-in  u [:user-data :appver])
(use 'movielexsrv.models.db :reload-all)
(fetch-user "11")
(init-local-repl)
(validate-user "11")
u
(utils/ver->int (get u [:user-data :appver]))
(movielex.tools.utils/ver->int (get u [:user-data :appver]))
(movielexsrv.tools.utils/ver->int (get u [:user-data :appver]))
(get u [:user-data :appver])
u
(get-in u [:user-data :appver])
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(validate-user "11")
(use 'movielexsrv.models.db :reload-all)
(init-local-repl)
(validate-user "11")
(quit)
